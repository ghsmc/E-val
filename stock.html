<!DOCTYPE html>
<html>

<head>
    <title>WhySpike</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1 class="inline"><img src=logo2.png alt="logo2" style="width:60px;height:50px;"><img src=text.png
                        alt="text" style="width:140px;height:20px;padding-bottom: 1rem; padding-left: 0.8rem;"></h1>

            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="search.html">Search Tickers</a></li>
                    <li><a href="#">General News</a></li>
                    <li><a href="#">Stock Market News</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="main">
        <div class="is-top-centered">
            <h1 class="blue welcome-message" id="company-name">Loading...</h1>
            <div class="data">
                <h1 id="pps"></h1>
                <h1 id="target"></h1>
                <h1 id="dividend"></h1>
                <h1 id="PERatio"></h1>
                <h1 id="market-cap"></h1>
            </div>
        </div>
       


        <script>
            async function search() {
                let ticker = document.querySelector("#searchinput").value.toUpperCase;
                
                let searchdata = await fetch('https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=' + ticker + '&apikey=U24GMPS0SXZPXEXK');

                let search = await searchdata.json;

                console.log(searchdata);
                console.log(search);
            }

            async function getValue(ticker) {
                let overview_data = await fetch('https://www.alphavantage.co/query?function=OVERVIEW&datatype=json&symbol=' + ticker + '&interval=5min&apikey=4J31F0KZJROKQEPQ');
                let overview = await overview_data.json();

                let shortterm_data = await fetch('https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&datatype=json&symbol=' + ticker + '&interval=5min&apikey=4J31F0KZJROKQEPQ');
                let daily_reports = await shortterm_data.json();

                let monthly_data = await fetch('https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY&datatype=json&symbol=' + ticker + '&apikey=4J31F0KZJROKQEPQ');
                let monthly_reports = await monthly_data.json();

                document.getElementById("company-name").innerText = overview["Name"];

                document.getElementById("pps").innerText = daily_reports["50DayMovingAverage"];
                document.getElementById("target").innerText = overview["AnalystTargetPrice"];
                document.getElementById("PERatio").innerText = overview["PERatio"];
                document.getElementById("dividend").innerText = overview["DividendPerShare"];
                document.getElementById("market-cap").innerText = overview["SharesOutstanding"] * overview["50DayMovingAverage"];
            }

            getValue('IBM')
        </script>
    </div>
</body>



</html>